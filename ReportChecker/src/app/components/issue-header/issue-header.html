<div class="container">
  @if (issue().status == 'Open') {
    <tui-icon [appearance]="issue() | issueAppearance" [icon]="issue() | issueIcon" size="xl"
              tuiBadge/>
  } @else {
    <tui-icon [appearance]="issue() | issueAppearance" [icon]="issue().status == 'Fixed' ? '@tui.check' : '@tui.x'"
              size="xl" tuiBadge/>
  }
  <div class="info-container">
    <div class="issue-title" [innerHtml]="issue().title"></div>
    <div class="issue-chapter">{{ issue().chapter }}</div>
  </div>
  @if (issue().comments.length > 1) {
    <div class="comments-counter">
      <div>{{ issue().comments.length }}</div>
      <tui-icon icon="@tui.messages-square"/>
    </div>
  }
  @if (issue().status == 'Open') {
    <button tuiButton iconStart="@tui.check" appearance="positive" [loading]="loading | async"
            (click)="addComment('Fixed')" size="s"></button>
    <button tuiButton iconStart="@tui.x" appearance="negative" [loading]="loading | async"
            (click)="addComment('Closed')" size="s"></button>
  } @else {
    <button tuiButton iconStart="@tui.book-open" appearance="neutral" [loading]="loading | async"
            (click)="addComment('Open')" size="s"></button>
  }
</div>
